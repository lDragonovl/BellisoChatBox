@using Newtonsoft.Json
@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor
@{
    // Retrieve the serialized list from the session
    var serializedList = Context.Session.GetString("HeaderData");
    var cartQuantity = Context.Session.GetString("cartQuantity");

    // Deserialize the JSON string into a list
    var headerData = JsonConvert.DeserializeObject<BusinessObject.Model.Page.HeaderModel>(serializedList);
    string username = HttpContextAccessor.HttpContext.Session.GetString("username");
    var cateList = headerData.category;
    var brandList = headerData.brand;
}


<!DOCTYPE html>
<html>
<head>
    <!-- Basic -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <!-- Site Metas -->
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <title>Belliso</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <!-- slider stylesheet -->
    <link rel="stylesheet" type="text/css"
          href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.1.3/assets/owl.carousel.min.css" />

    <!-- Libraries Stylesheet -->
    <link href="~/lib/animate/animate.min.css" rel="stylesheet">
    <link href="~/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <script src="~/js/jquery-3.7.0.js"></script>

    <script src="~/js/signalr/dist/browser/signalr.js"></script>
    <script src="~/js/signalr/dist/browser/signalr.min.js"></script>
    <!-- fonts style -->
    <link href="https://fonts.googleapis.com/css?family=Baloo+Chettan|Poppins:400,600,700&display=swap" rel="stylesheet">
    <link href="~/css1/style.css" rel="stylesheet">
    <link href="~/css1/bootstrap.css" rel="stylesheet">
    <link href="~/css1/responsive.css" rel="stylesheet">

    <link href="~/css/address_form.css" rel="stylesheet">
    <link href="~/css/css.css" rel="stylesheet" />

</head>

<body>
   <div class="hero_area">
    <!-- header section strats -->
    <header class="header_section">
        <div class="container">
            <nav class="navbar navbar-expand-lg custom_nav-container ">
                <a class="navbar-brand" href="Home">
                    <span>
                        Belliso
                    </span>
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <div class="d-flex mx-auto flex-column flex-lg-row align-items-center">
                        <ul class="navbar-nav  ">
                          
                            <li class="nav-item">
                                <a class="nav-link" href="/Shop"> Cửa hàng</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="/Cart"> Giỏ hàng</a>
                            </li>
                                @if (username != null)
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" href="/Contact">Liên hệ</a>
                                    </li>
                                }

                        </ul>
                    </div>
                    <div class="quote_btn-container ">
                            @if(username == null)
                            {
                                <a href="/Login">
                                    Đăng nhập
                                </a>
                            }
                            else
                            {
                          <a href="/Account/MyAccount">Manage Account</a>
                            }

                         
                            <a href="/Cart" class="btn px-0 ml-2">
                                <i class="fas fa-shopping-cart text-dark"></i>
                                <span class="badge text-dark border border-dark rounded-circle cart-value"
                                      style="padding-bottom: 2px;">@cartQuantity</span>
                            </a>
                    </div>
                </div>
            </nav>
        </div>
    </header>

        <!-- end header section -->
  
    @RenderBody()

    <!-- info section -->
    <section class="info_section layout_padding">
        <div class="container">
            <div class="row">
                <div class="col-md-3">
                    <div class="info_logo">
                        <h5>
                            Belliso
                        </h5>
                        <p>
                            Belliso – nơi những kỷ niệm thắp sáng giấc ngủ của bạn. Chúng tôi cam kết mang đến cho bạn sự thoải mái và an lành trong từng giấc ngủ, giúp bạn luôn tràn đầy năng lượng mỗi ngày.
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="info_links pl-lg-5">
                        <h5>
                            Liên Kết
                        </h5>
                        <ul>
                            <li>
                                <a href="index.html">
                                    Trang chủ
                                </a>
                            </li>
                            <li>
                                <a href="shop.html">
                                    Cửa hàng
                                </a>
                            </li>
                            <li>
                                <a href="gallery.html">
                                    Giỏ hàng
                                </a>
                            </li>
                            <li>
                                <a href="checkout.html">
                                    Thanh Toán
                                </a>
                            </li>
                            <li>
                                <a href="contact.html">
                                    Liên hệ
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="info_insta">
                        <h5>
                            Instagram
                        </h5>
                        <div class="insta_container">
                            <div>
                                <a href="">
                                    <div class="insta-box b-1">
                                        <img src="images/productImgs/Product1.jpg" alt="">
                                    </div>
                                </a>
                                <a href="">
                                    <div class="insta-box b-1">
                                        <img src="images/productImgs/Product2.jpg" alt="">
                                    </div>
                                </a>
                            </div>
                            <div>
                                <a href="">
                                    <div class="insta-box b-1">
                                        <img src="images/productImgs/Product4.jpg" alt="">
                                    </div>
                                </a>
                                <a href="">
                                    <div class="insta-box b-1">
                                        <img src="images/productImgs/Product5.jpg" alt="">
                                    </div>
                                </a>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="info_contact">
                        <h5>
                            Contact
                        </h5>
                        <div>
                            <img src="images/location-white.png" alt="">
                            <p>
                                15 Bà Huyện Thanh Quan, Phường 10, Thành phố Đà Lạt, Lâm Đồng, Vietnam
                            </p>
                        </div>
                        <div>
                            <img src="images/telephone-white.png" alt="">
                            <p>
                                +0333 444 592
                            </p>
                        </div>
                        <div>
                            <img src="images/envelope-white.png" alt="">
                            <p>
                                Belliso@gmail.com.vn
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>



    <!-- end info_section -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="~/lib/easing/easing.min.js"></script>
    <script src="~/lib/owlcarousel/owl.carousel.min.js"></script>


    <!-- Contact Javascript File -->
    <script src="~/mail/jqBootstrapValidation.min.js"></script>
    <script src="~/mail/contact.js"></script>
    <!-- Template Javascript -->
    <script type="module" src="~/js/main.js"></script>
    <script src="~/js/Search.js"></script>
    <script src="~/js/cartprocessing.js"></script>
    <script src="~/js/sinalrconfig/signalrservice.js"></script>
    <script src="~/js/logout/logout.js"></script>


    <script>
        let isDropdownVisible = false;
        let isDropdownMB = true;
        const handleDropDown = (event) => {
            event.preventDefault(); // Prevent default action of the anchor tag

            if (isDropdownVisible) {
                // If dropdown is visible, hide it
                $('#navbar-vertical-category').addClass("collapse");
                $('#navbar-vertical-category').removeClass("show");
            } else {
                // If dropdown is hidden, show it
                $('#navbar-vertical-category').addClass("show");
                $('#navbar-vertical-category').removeClass("collapse");
            }

            // Toggle the state
            isDropdownVisible = !isDropdownVisible;
        }

        const handleDropDownMB = () => {
            if (isDropdownMB) {
                // If dropdown is visible, hide it
                $('#navbarCollapse-tt').addClass("collapse");
                $('#navbarCollapse-tt').removeClass("show");
            } else {
                // If dropdown is hidden, show it
                $('#navbarCollapse-tt').addClass("show");
                $('#navbarCollapse-tt').removeClass("collapse");
            }

            // Toggle the state
            isDropdownMB = !isDropdownMB;
        }

    </script>

</body>
</html>
